# ๐งฉ Social Network Microservices โ Go + Docker + PostgreSQL

ะะธะบัะพัะตัะฒะธัะฝัะน ะฟัะพะตะบั "ะกะพัะธะฐะปัะฝะฐั ัะตัั", ัะตะฐะปะธะทะพะฒะฐะฝะฝัะน ะฝะฐ Go ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ `Gin`, `Docker` ะธ `PostgreSQL`.

## ๐ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

- ๐ค ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ๐ ะัะพะด ะฒ ัะธััะตะผั
- ๐ ะกะพะทะดะฐะฝะธะต ะฟะพััะพะฒ
- ๐ ะัะพัะผะพัั ะฒัะตั ะฟะพััะพะฒ
- ๐ ะัะพัะผะพัั ะฟะพััะพะฒ ะบะพะฝะบัะตัะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
- โค๏ธ ะะฐะนะบ ะฟะพััะฐ
- ๐ฌ ะะพะผะผะตะฝัะฐัะธะน ะบ ะฟะพััั

## ๐๏ธ ะขะตัะฝะพะปะพะณะธะธ

- Go 1.22+
- Gin (HTTP-ััะตะนะผะฒะพัะบ)
- PostgreSQL 14
- Docker + Docker Compose

## ๐งฑ ะััะธัะตะบัััะฐ

ะัะพะตะบั ัะพััะพะธั ะธะท ัััั ะผะธะบัะพัะตัะฒะธัะพะฒ:

```
api-gateway     โ ะฟัะธะฝะธะผะฐะตั HTTP-ะทะฐะฟัะพัั ะพั ะบะปะธะตะฝัะฐ
    |
    โ
processor       โ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ, ะผะฐัััััะธะทะฐัะธั
    |
    โ
db-service      โ ัะฐะฑะพัะฐ ั PostgreSQL
    |
    โ
PostgreSQL      โ ััะฐะฝะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ะฟะพััะพะฒ, ะปะฐะนะบะพะฒ ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
social-network/
โ
โโโ api-gateway/        # ะัะธัะผ HTTP-ะทะฐะฟัะพัะพะฒ
โ   โโโ main.go
โ   โโโ handlers/
โ   โโโ routes/
โ   โโโ Dockerfile
โ
โโโ processor/          # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ main.go
โ   โโโ handlers/
โ   โโโ utils/
โ   โโโ routes/
โ   โโโ Dockerfile
โ
โโโ db-service/         # ะะฐะฑะพัะฐ ั ะะ
โ   โโโ main.go
โ   โโโ database/
โ   โโโ routes/
โ   โโโ models/
โ   โโโ handlers/
โ   โโโ Dockerfile
โ
โโโ docker-compose.yml  # ะะพะดะฝััะธะต ะฒัะตั ัะตัะฒะธัะพะฒ
โโโ init.sql            # ะกะบัะธะฟั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั
```

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### 1. ะะปะพะฝะธััะน ัะตะฟะพะทะธัะพัะธะน

```bash
git clone https://github.com/Gayana5/social-network.git
cd social-network
```

### 2. ะะฐะฟัััะธ ะฟัะพะตะบั ั Docker Compose

```bash
docker-compose up --build
```

ะัะพะตะบั ะฟะพะดะฝะธะผะตั ะฒัะต ะผะธะบัะพัะตัะฒะธัั: `api-gateway`, `processor`, `db-service`, `postgres`.

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต API

ะะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั Postman, Insomnia ะธะปะธ `curl`.

### ๐ ะะตะณะธัััะฐัะธั

```
POST http://localhost:8080/signUp
Content-Type: application/json
```

```json
{
  "username": "user1",
  "password": "pass123"
}
```

### ๐ ะัะพะด

```
POST http://localhost:8080/signIn
Content-Type: application/json
```

```json
{
  "username": "user1",
  "password": "pass123"
}
```

### ๐ ะกะพะทะดะฐะฝะธะต ะฟะพััะฐ

```
POST http://localhost:8080/post
Content-Type: application/json
```

```json
{
  "user_id": 1,
  "content": "ะขะตะบัั ะฟะพััะฐ"
}
```

### ๐ ะะพะปััะธัั ะฒัะต ะฟะพััั

```
GET http://localhost:8080/posts
```

### ๐ ะะพััั ะฟะพะปัะทะพะฒะฐัะตะปั

```
GET http://localhost:8080/posts/1
```

### โค๏ธ ะะฐะนะบ ะฟะพััะฐ

```
POST http://localhost:8080/post/1/like
```

### ๐ฌ ะะพะผะผะตะฝัะฐัะธะน ะบ ะฟะพััั

```
POST http://localhost:8080/post/1/comment
Content-Type: application/json
```

```json
{
  "user_id": 1,
  "content": "ะขะตะบัั ะบะพะผะผะตะฝัะฐัะธั"
}
```

## ๐ณ Docker-ะบะพะผะฐะฝะดั

ะััะฐะฝะพะฒะธัั ะธ ัะดะฐะปะธัั ะบะพะฝัะตะนะฝะตัั:

```bash
docker-compose down
```

ะะพะปะฝะฐั ะฟะตัะตัะฑะพัะบะฐ ะธ ะทะฐะฟััะบ:

```bash
docker-compose down -v
docker-compose up --build
```
